# MultiAgentPPT：简单示例用于生成PPT正文

本项目结合了 **A2A 框架** 与 **Google ADK 架构**，通过 SSE（Server-Sent Events）生成结构化的 XML 格式 PPT 内容示例，这个用于测试。

---

## ✨ 项目亮点

* 🔗 **A2A + ADK 无缝集成**：实现多智能体任务执行。
* 📄 **标准化 XML PPT 输出**：支持基于结构化大纲生成内容丰富、布局多样的 XML 演示文稿。
* 🌐 **流式响应支持（SSE）**：支持客户端实时接收 Agent 执行状态及内容更新。

---

## 📂 项目结构说明

| 文件                      | 说明                                |
| ----------------------- | --------------------------------- |
| `a2a_client.py`         | A2A 客户端封装，管理与服务端的交互               |
| `agent.py`              | 主控制 Agent，调度执行任务                  |
| `main_api.py`           | FastAPI 主入口，暴露 SSE 接口             |
| `adk_agent_executor.py` | 实现 A2A 与 ADK 框架的集成逻辑              |
| `.env`                  | 环境变量配置，需包含 Google GenAI API 密钥等信息 |

---

## 📌 示例：主题生成任务

以下是可以测试的典型主题输入，系统将自动生成结构化内容：

* 电动汽车市场调研

---

## 运行方法
```
在.env文件中先修改模型和模型使用的key
python main_api.py
```


## 返回给前端的最后的数据流拼接后的结果类似
```xml
<PRESENTATION>

<SECTION layout="vertical">
  <IMG src="https://file.51pptmoban.com/d/file/2022/09/13/b2d85362febcf895e78916e0696f1a59.jpg" alt="电动汽车背景" />
  <H1>特斯拉汽车调研</H1>
  <P>全球电动汽车市场深度分析</P>
</SECTION>

<SECTION layout="left">
  <IMG src="https://n.sinaimg.cn/spider20250610/598/w955h443/20250610/d5d4-b0eb5848953ded18fbc44aefb452923d.png" alt="全球电动汽车销量增长" />
  <BULLETS>
    <DIV><H3>全球电动汽车市场概况</H3><P>全球电动汽车销量持续增长，预计2025年突破2000万辆大关。这一数字反映了全球对可持续交通方式日益增长的需求，以及各国政府对减少碳排放的努力。</P></DIV>
    <DIV><P>中国市场表现尤为突出，已成为全球电动汽车产销规模最大的国家。这得益于中国政府的大力支持，以及本土电动汽车制造商的快速崛起。</P></DIV>
    <DIV><P>欧美市场虽然起步较早，但增长速度相对放缓。政策支持力度不足以及充电基础设施建设滞后是主要瓶颈。例如，欧洲的充电桩密度远低于中国。</P></DIV>
    <DIV><P>新兴经济体如印度和拉丁美洲正成为新的增长中心。这些地区的汽车市场潜力巨大，电动汽车的普及有望加速。</P></DIV>
  </BULLETS>
</SECTION>

<SECTION layout="right">
  <IMG src="https://n.sinaimg.cn/spider20250610/473/w868h405/20250610/d80c-d608870a0938449e561f725bc00c169a.png" alt="特斯拉销量同比下降" />
  <COLUMNS>
    <DIV><H3>特斯拉的市场表现</H3><P>特斯拉在美国市场面临销量同比下降的挑战。2025年4月数据显示，特斯拉销量同比下降17%，市场竞争日益激烈，其他品牌纷纷推出更具竞争力的车型，例如福特和通用。</P></DIV>
    <DIV><H3>竞争格局</H3><P>中国品牌如比亚迪正迅速崛起，超越特斯拉，占据市场份额领先地位。比亚迪凭借其强大的电池技术和本土市场优势，正在全球范围内挑战特斯拉的霸主地位。 例如，比亚迪秦系列在中国的销量持续领先。</P></DIV>
  </COLUMNS>
  <P>全球电动汽车贸易中，特斯拉仍然占据重要地位，但其影响力正受到挑战。电池价格的下降对特斯拉的利润空间产生影响，需要不断进行技术创新和成本控制。</P>
</SECTION>

<SECTION layout="vertical">
  <IMG src="https://c-ssl.duitang.com/uploads/blog/202111/27/20211127170036_ecc10.png" alt="电池技术" />
  <CYCLE>
    <DIV><H3>电池退化</H3><P>电池平均每年退化约1.8%，这意味着即使经过20年的使用，电池仍然能保有约64%的续航能力。这对于提升消费者对电动汽车的信心至关重要。</P></DIV>
    <DIV><H3>电池类型</H3><P>三元锂电池与磷酸铁锂电池在性能上存在差异。三元锂电池能量密度高，但安全性相对较低；磷酸铁锂电池则更安全，但能量密度较低。选择合适的电池类型需要根据实际需求进行权衡。</P></DIV>
    <DIV><H3>快充影响</H3><P>频繁使用快充可能会对电池寿命产生一定影响。优化充电策略，如避免长时间充满电或低电量状态，可以有效延长电池寿命。 例如，特斯拉推荐使用慢充模式在日常使用中。</P></DIV>
    <DIV><H3>技术优势</H3><P>特斯拉在电池技术方面具有一定的优势，如电池管理系统（BMS）和能量回收系统。然而，电池过热和安全性问题仍然是潜在的挑战。特斯拉正在积极研发新一代电池技术，以提升性能和安全性。</P></DIV>
  </CYCLE>
</SECTION>

<SECTION layout="left">
  <IMG src="https://n.sinaimg.cn/spider20250621/120/w1440h1080/20250621/f8d9-7d234d7b43fda7ec916d01fb81555bae.jpg" alt="电动汽车卡通图片" />
  <TIMELINE>
    <DIV><H3>政府补贴</H3><P>各国政府的政策与补贴对电动汽车销量起着关键作用。例如，挪威通过高额补贴和税收优惠，成为全球电动汽车普及率最高的国家之一。</P></DIV>
    <DIV><H3>充电网络建设</H3><P>充电网络建设的进展与不足是制约电动汽车普及的重要因素。英国和印度等国家在充电基础设施建设方面面临诸多挑战，如充电桩数量不足和分布不均。 在英国，充电桩的可靠性问题也备受关注。</P></DIV>
    <DIV><H3>特斯拉布局</H3><P>特斯拉在充电基础设施方面进行了积极布局，通过建设超级充电站网络，为用户提供便捷的充电服务。然而，特斯拉的充电桩数量仍然无法满足所有用户的需求。</P></DIV>
    <DIV><H3>政策影响</H3><P>未来政策的调整将对特斯拉产生潜在影响。例如，政府补贴政策的退坡可能会导致电动汽车销量下降。 特斯拉需要密切关注政策变化，并及时调整战略。</P></DIV>
  </TIMELINE>
</SECTION>

<SECTION layout="right">
  <IMG src="https://c-ssl.duitang.com/uploads/item/201909/24/20190924003225_luvye.png" alt="市场趋势背景" />
  <ARROWS>
    <DIV><H3>消费者支持率</H3><P>消费者对电动汽车的支持率和购买意愿正在发生变化。环保意识的提高和技术的进步推动了电动汽车的普及。 然而，消费者对电动汽车的价格和续航里程仍然存在担忧。</P></DIV>
    <DIV><H3>品牌认可度</H3><P>特斯拉品牌在消费者中享有较高的认可度，但同时也面临着挑战。一些消费者对特斯拉的质量和服务表示不满。 特斯拉需要不断提升产品质量和服务水平，以维护品牌形象。</P></DIV>
    <DIV><H3>市场可靠性</H3><P>市场对电动汽车可靠性的担忧是制约其普及的重要因素。特斯拉需要通过技术创新和质量控制，提升电动汽车的可靠性，消除消费者的顾虑。 例如，特斯拉可以通过延长电池保修期来提升消费者信心。</P></DIV>
  </ARROWS>
  <P>未来市场趋势将影响特斯拉的战略调整方向。例如，自动驾驶技术的发展将对特斯拉产生深远影响。 特斯拉需要密切关注市场趋势，并及时调整战略，以保持竞争优势。</P>
</SECTION>

<SECTION layout="vertical">
  <IMG src="https://n.sinaimg.cn/spider20250610/663/w855h608/20250610/27b7-9119b6ad6f21a0fdd477e8736232bad2.png" alt="电动汽车中国同比增长" />
  <H1>结论</H1>
  <P>特斯拉在全球电动汽车市场面临机遇与挑战。 持续创新、关注市场趋势和政策变化，是特斯拉保持竞争优势的关键。</P>
</SECTION>

</PRESENTATION>
```